<h3 class="card-title">Track Order Status</h3>

<div class="btn-group" role="group" aria-label="Basic radio toggle button group">
  
    <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" (change)="orderPlaced()" checked>
    <label class="btn btn-outline-primary" for="btnradio1">Order Placed</label>

    <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off" (change)="packed()">
    <label class="btn btn-outline-primary" for="btnradio2">Packed</label>

    <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off" (change)="shipped()">
    <label class="btn btn-outline-primary" for="btnradio3">Shipped</label>

    <input type="radio" class="btn-check" name="btnradio" id="btnradio4" autocomplete="off" (change)="atDeliveryCentre()">
    <label class="btn btn-outline-primary" for="btnradio4">At Delivery Centre</label>
  
    <input type="radio" class="btn-check" name="btnradio" id="btnradio5" autocomplete="off" (change)="outForDelivery()">
    <label class="btn btn-outline-primary" for="btnradio5">Out for Delivery</label>

    <input type="radio" class="btn-check" name="btnradio" id="btnradio6" autocomplete="off" (change)="delivered()">
    <label class="btn btn-outline-primary" for="btnradio6">Delivered</label>

    <input type="radio" class="btn-check" name="btnradio" id="btnradio7" autocomplete="off" (change)="cancelled()">
    <label class="btn btn-outline-primary" for="btnradio7">Cancelled</label>
</div>


<div class="d-flex justify-content-centre flex-wrap">
    <div class="card m-3" style="width: 18rem;" *ngFor="let ot of orderTracking">

        <ng-container *ngIf="ot.status == 'CANCELLED'">
            <div class="card-body text-white bg-secondary">
                <p class="card-text">
                    <span>OrderTracking Id : {{ot.id}}</span> <br>
                    <span>Seller Id : {{ot.seller.id}}</span> <br>
                    <span>Seller Id : {{ot.seller.companyName}}</span> <br>
                    <span>Order Id : {{ot.order.id}}</span> <br>

                    <span>Order Status : {{ot.status}}</span> <br>

                    <span>{{isDateOlderThan3Days(ot.statusChangedAt)}}</span>
                    <span>Difference in Days : {{isDateOlderThan3Days(ot.statusChangedAt)}}</span> <br>
                    <span>Status Changed At : {{formatDate(ot.statusChangedAt)}}</span>
                </p>
                <!-- <a role="button" class="btn btn-sm btn-warning" (click)="sendAlert(ot.id)">Send Alert</a> -->
            </div>
        </ng-container>

        <ng-container *ngIf="isDateOlderThan3Days(ot.statusChangedAt) && ot.status != 'DELIVERED' && ot.status != 'CANCELLED'">
            <div class="card-body text-white bg-danger">
                <p class="card-text">
                    <span>OrderTracking Id : {{ot.id}}</span> <br>
                    <span>Seller Id : {{ot.seller.id}}</span> <br>
                    <span>Seller Id : {{ot.seller.companyName}}</span> <br>
                    <span>Order Id : {{ot.order.id}}</span> <br>

                    <span>Order Status : {{ot.status}}</span> <br>

                    <span>{{isDateOlderThan3Days(ot.statusChangedAt)}}</span>
                    <span>Difference in Days : {{isDateOlderThan3Days(ot.statusChangedAt)}}</span> <br>
                    <span>Status Changed At : {{formatDate(ot.statusChangedAt)}}</span>
                </p>
                <a role="button" class="btn btn-sm btn-warning" (click)="sendAlert(ot.id)">Send Alert</a>
            </div>
        </ng-container>
        <ng-container *ngIf="!isDateOlderThan3Days(ot.statusChangedAt) && ot.status != 'DELIVERED' && ot.status != 'CANCELLED'">
            <div class="card-body">
                <h5 class="card-title">Track Order Status</h5>
                <p class="card-text">
                    <span>OrderTracking Id : {{ot.id}}</span> <br>
                    <span>Seller Id : {{ot.seller.id}}</span> <br>
                    <span>Seller Id : {{ot.seller.companyName}}</span> <br>
                    <span>Order Id : {{ot.order.id}}</span> <br>

                    <span>Order Status : {{ot.status}}</span> <br>

                    <span>{{isDateOlderThan3Days(ot.statusChangedAt)}}</span>
                    <span>Difference in Days : {{isDateOlderThan3Days(ot.statusChangedAt)}}</span> <br>
                    <span>Status Changed At : {{formatDate(ot.statusChangedAt)}}</span>
                </p>
                <!-- <a href="#" class="btn btn-sm btn-success">Go somewhere</a> -->
            </div>
        </ng-container>
        <ng-container *ngIf="!isDateOlderThan3Days(ot.statusChangedAt) && ot.status == 'DELIVERED' && ot.status != 'CANCELLED'">
            <div class="card-body text-white bg-success">
                <h5 class="card-title">Track Order Status</h5>
                <p class="card-text">
                    <span>OrderTracking Id : {{ot.id}}</span> <br>
                    <span>Seller Id : {{ot.seller.id}}</span> <br>
                    <span>Seller Id : {{ot.seller.companyName}}</span> <br>
                    <span>Order Id : {{ot.order.id}}</span> <br>

                    <span>Order Status : {{ot.status}}</span> <br>

                    <span>{{isDateOlderThan3Days(ot.statusChangedAt)}}</span>
                    <span>Difference in Days : {{isDateOlderThan3Days(ot.statusChangedAt)}}</span> <br>
                    <span>Status Changed At : {{formatDate(ot.statusChangedAt)}}</span>
                </p>
                <!-- <a href="#" class="btn btn-sm btn-success">Go somewhere</a> -->
            </div>
        </ng-container>
    </div>
</div>
<div class="">
    <button type="button" class="m-1 btn btn-secondary btn-sm" (click)="next()">Next</button>
</div>